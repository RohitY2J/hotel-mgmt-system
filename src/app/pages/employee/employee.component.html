<app-loader *ngIf="isLoading"></app-loader>

<app-notification *ngIf="showNotification" [notificationData]="notificationParams"></app-notification>

<!-- Create Employee Modal -->
<app-modal [title]="'Create New Employee'" [isVisible]="isOpen" (close)="closeModal()">
    <div class="flex flex-col max-h-[85vh] min-h-0">
        <!-- Scrollable Form Content -->
        <div class="flex-1 overflow-y-auto px-6 pt-6 pb-4">
            <form [formGroup]="myForm" (ngSubmit)="submitForm()" id="create-employee-form" name="createEmployeeForm">
                <div class="grid gap-6 grid-cols-1 md:grid-cols-2">
                    <!-- First Name -->
                    <div class="space-y-2">
                        <label for="firstName" class="block text-sm font-semibold text-gray-100">
                            First Name <span class="text-red-400">*</span>
                        </label>
                        <input 
                            type="text" 
                            formControlName="firstName" 
                            id="firstName"
                            name="firstName"
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-600 text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 placeholder-gray-400"
                            placeholder="Enter first name" 
                            required>
                        <div *ngIf="myForm.get('firstName')?.invalid && (myForm.get('firstName')?.dirty || myForm.get('firstName')?.touched)">
                            <div *ngIf="myForm.get('firstName')?.errors?.['required']" class="text-red-400 text-sm font-medium">
                                First Name is required.
                            </div>
                        </div>
                    </div>

                    <!-- Last Name -->
                    <div class="space-y-2">
                        <label for="lastName" class="block text-sm font-semibold text-gray-100">
                            Last Name <span class="text-red-400">*</span>
                        </label>
                        <input 
                            type="text" 
                            formControlName="lastName" 
                            id="lastName"
                            name="lastName"
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-600 text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 placeholder-gray-400"
                            placeholder="Enter last name" 
                            required>
                        <div *ngIf="myForm.get('lastName')?.invalid && (myForm.get('lastName')?.dirty || myForm.get('lastName')?.touched)">
                            <div *ngIf="myForm.get('lastName')?.errors?.['required']" class="text-red-400 text-sm font-medium">
                                Last Name is required.
                            </div>
                        </div>
                    </div>

                    <!-- Email -->
                    <div class="md:col-span-2 space-y-2">
                        <label for="email" class="block text-sm font-semibold text-gray-100">
                            Email Address <span class="text-red-400">*</span>
                        </label>
                        <input 
                            type="email" 
                            formControlName="email" 
                            id="email"
                            name="email"
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-600 text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 placeholder-gray-400"
                            placeholder="Enter email address" 
                            required>
                        <div *ngIf="myForm.get('email')?.invalid && (myForm.get('email')?.dirty || myForm.get('email')?.touched)">
                            <div *ngIf="myForm.get('email')?.errors?.['required']" class="text-red-400 text-sm font-medium">
                                Email is required.
                            </div>
                            <div *ngIf="myForm.get('email')?.errors?.['email']" class="text-red-400 text-sm font-medium">
                                Invalid email format.
                            </div>
                        </div>
                    </div>

                    <!-- Phone Number -->
                    <div class="space-y-2">
                        <label for="phoneNumber" class="block text-sm font-semibold text-gray-100">
                            Phone Number <span class="text-red-400">*</span>
                        </label>
                        <input 
                            type="tel" 
                            formControlName="phoneNumber" 
                            id="phoneNumber"
                            name="phoneNumber"
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-600 text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 placeholder-gray-400"
                            placeholder="Enter phone number" 
                            required>
                        <div *ngIf="myForm.get('phoneNumber')?.invalid && (myForm.get('phoneNumber')?.dirty || myForm.get('phoneNumber')?.touched)">
                            <div *ngIf="myForm.get('phoneNumber')?.errors?.['required']" class="text-red-400 text-sm font-medium">
                                Phone number is required.
                            </div>
                        </div>
                    </div>

                    <!-- Address -->
                    <div class="space-y-2">
                        <label for="address" class="block text-sm font-semibold text-gray-100">
                            Address
                        </label>
                        <input 
                            type="text" 
                            formControlName="address" 
                            id="address"
                            name="address"
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-600 text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 placeholder-gray-400"
                            placeholder="Enter address">
                    </div>

                    <!-- Role -->
                    <div class="md:col-span-2 space-y-2">
                        <label for="role" class="block text-sm font-semibold text-gray-100">
                            Role <span class="text-red-400">*</span>
                        </label>
                        <select 
                            formControlName="role" 
                            id="role"
                            name="role"
                            class="w-full px-4 py-3 bg-gray-800 border border-gray-600 text-white rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200">
                            <option value="" class="text-gray-400">Select a role</option>
                            <option *ngFor="let role of roles" [ngValue]="role._id" class="text-white">
                                {{ role.roleName }}
                            </option>
                        </select>
                        <div *ngIf="myForm.get('role')?.invalid && (myForm.get('role')?.dirty || myForm.get('role')?.touched)">
                            <div *ngIf="myForm.get('role')?.errors?.['required']" class="text-red-400 text-sm font-medium">
                                Role is required.
                            </div>
                        </div>
                    </div>

                    <!-- File Upload -->
                    <div class="md:col-span-2 space-y-2">
                        <label class="block text-sm font-semibold text-gray-100" for="file_input">
                            Profile Picture
                        </label>
                        <input
                            class="w-full px-4 py-1 bg-gray-800 border border-gray-600 text-gray-300 rounded-lg cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-600 file:text-white hover:file:bg-blue-700"
                            id="file_input" 
                            name="profilePicture"
                            type="file" 
                            (change)="onFileSelect($event)">
                    </div>
                </div>
            </form>
        </div>

        <!-- Sticky Footer with Actions -->
        <div class="flex-shrink-0 px-6 py-2 border-t border-gray-700">
            <div class="flex flex-col-reverse sm:flex-row sm:justify-end space-y-reverse space-y-3 sm:space-y-0 sm:space-x-4">
                <button 
                    (click)="closeModal()" 
                    type="button"
                    id="cancel-employee-btn"
                    name="cancelEmployeeBtn"
                    class="w-full sm:w-auto px-6 py-3 text-sm font-medium text-gray-300 bg-gray-700 border border-gray-600 rounded-lg hover:bg-gray-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200">
                    Cancel
                </button>
                <button 
                    type="submit"
                    form="create-employee-form"
                    id="save-employee-btn"
                    name="saveEmployeeBtn"
                    class="w-full sm:w-auto px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200">
                    Save Employee
                </button>
            </div>
        </div>
    </div>
</app-modal>

<!-- Create Role Modal -->
<app-modal [title]="'Create New Role'" [isVisible]="isRoleModalOpen" (close)="closeRoleModal()">
    <div class="flex flex-col max-h-[80vh] min-h-0">
        <!-- Form Section -->
        <div class="px-6 pt-6 pb-4">
            <form [formGroup]="myRoleForm" (ngSubmit)="submitRoleForm()" id="create-role-form" name="createRoleForm">
                <div class="space-y-4 mb-6">
                    <div class="space-y-2">
                        <label for="roleName" class="block text-sm font-semibold text-gray-100">
                            Role Name <span class="text-red-400">*</span>
                        </label>
                        <div class="flex space-x-3">
                            <input 
                                type="text" 
                                formControlName="roleName" 
                                id="roleName"
                                name="roleName"
                                class="flex-1 px-4 py-3 bg-gray-800 border border-gray-600 text-white rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 placeholder-gray-400"
                                placeholder="Enter role name">
                            <button 
                                type="submit"
                                id="save-role-btn"
                                name="saveRoleBtn"
                                class="px-6 py-3 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-all duration-200 shadow-lg hover:shadow-xl">
                                <span class="flex items-center space-x-1">
                                    <i class="fas fa-plus text-xs"></i>
                                    <span>Add Role</span>
                                </span>
                            </button>
                        </div>
                        <div *ngIf="myRoleForm.get('roleName')?.invalid && (myRoleForm.get('roleName')?.dirty || myRoleForm.get('roleName')?.touched)">
                            <div *ngIf="myRoleForm.get('roleName')?.errors?.['required']" class="text-red-400 text-sm font-medium">
                                Role Name is required.
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        
        <!-- Enhanced Existing Roles Section -->
        <div class="flex-1 overflow-hidden border-t border-gray-700 bg-gradient-to-b from-gray-900 to-gray-850">
            <div class="px-6 py-5">
                <div class="flex items-center justify-between mb-4">
                    <h5 class="text-lg font-bold text-gray-100 flex items-center space-x-2">
                        <i class="fas fa-users-cog text-blue-400"></i>
                        <span>Existing Roles</span>
                        <span class="bg-blue-500 text-white text-xs px-2 py-1 rounded-full font-medium">{{roles.length}}</span>
                    </h5>
                    <div *ngIf="roles.length > 0" class="text-xs text-gray-400">
                        {{roles.length}} role{{roles.length !== 1 ? 's' : ''}} available
                    </div>
                </div>
                
                <!-- Scrollable Roles Container -->
                <div class="max-h-64 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800">
                    <!-- Roles Grid -->
                    <div *ngIf="roles.length > 0" class="grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
                        <div *ngFor="let role of roles; let i = index" 
                             class="group relative bg-gradient-to-r from-gray-800 to-gray-750 hover:from-blue-800 hover:to-purple-800 border border-gray-600 hover:border-blue-500 rounded-xl p-4 transition-all duration-300 transform hover:scale-105 hover:shadow-lg">
                            
                            <!-- Role Content -->
                            <div class="flex items-start justify-between">
                                <div class="flex-1 min-w-0">
                                    <div class="flex items-center space-x-2 mb-2">
                                        <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white text-sm font-bold">
                                            {{role.roleName.charAt(0).toUpperCase()}}
                                        </div>
                                        <h6 class="text-sm font-semibold text-gray-100 truncate group-hover:text-white">
                                            {{role.roleName}}
                                        </h6>
                                    </div>
                                    
                                    <!-- Role Metadata -->
                                    <!-- <div class="flex items-center space-x-4 text-xs text-gray-400">
                                        <span class="flex items-center space-x-1">
                                            <i class="fas fa-hashtag"></i>
                                            <span>ID: {{role._id.slice(-6)}}</span>
                                        </span>
                                        <span class="flex items-center space-x-1">
                                            <i class="fas fa-clock"></i>
                                            <span>Role {{i + 1}}</span>
                                        </span>
                                    </div> -->
                                </div>
                                
                                <!-- Action Dots -->
                                <!-- <div class="opacity-0 group-hover:opacity-100 transition-opacity duration-200">
                                    <button class="text-gray-400 hover:text-white p-1 rounded">
                                        <i class="fas fa-ellipsis-v text-xs"></i>
                                    </button>
                                </div> -->
                            </div>
                            
                            <!-- Hover Overlay -->
                            <div class="absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
                        </div>
                    </div>
                    
                    <!-- Empty State -->
                    <div *ngIf="roles.length === 0" class="text-center py-12">
                        <div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-r from-gray-700 to-gray-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-user-tag text-2xl text-gray-400"></i>
                        </div>
                        <h6 class="text-lg font-semibold text-gray-300 mb-2">No roles created yet</h6>
                        <p class="text-sm text-gray-500 mb-4 max-w-xs mx-auto">
                            Get started by creating your first role using the form above.
                        </p>
                        <div class="flex justify-center space-x-2">
                            <div class="w-2 h-2 bg-gray-600 rounded-full animate-pulse"></div>
                            <div class="w-2 h-2 bg-gray-600 rounded-full animate-pulse" style="animation-delay: 0.2s"></div>
                            <div class="w-2 h-2 bg-gray-600 rounded-full animate-pulse" style="animation-delay: 0.4s"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</app-modal>

<!-- Delete Confirmation Modal -->
<app-modal [isTitleVisible]="false" [isVisible]="isConfirmDialogOpen" (close)="closeConfirmDialog()">
    <div class="relative p-6 text-center bg-gray-800 rounded-lg shadow-xl">
        <button 
            type="button" 
            (click)="closeConfirmDialog()"
            id="close-confirm-dialog-btn"
            name="closeConfirmDialogBtn"
            class="absolute top-4 right-4 text-gray-400 bg-transparent hover:bg-gray-700 hover:text-white rounded-lg text-sm p-2 transition-all duration-200">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
            </svg>
            <span class="sr-only">Close modal</span>
        </button>
        
        <div class="w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center">
            <svg class="w-8 h-8 text-red-600" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path>
            </svg>
        </div>
        
        <h3 class="text-lg font-semibold text-white mb-2">Delete Employee</h3>
        <p class="text-gray-300 mb-6">Are you sure you want to delete this employee? This action cannot be undone.</p>
        
        <div class="flex justify-center space-x-4">
            <button 
                (click)="closeConfirmDialog()" 
                type="button"
                id="cancel-delete-btn"
                name="cancelDeleteBtn"
                class="px-6 py-3 text-sm font-medium text-gray-300 bg-gray-700 border border-gray-600 rounded-lg hover:bg-gray-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200">
                Cancel
            </button>
            <button 
                type="button" 
                (click)="confirmButtonClicked()"
                id="confirm-delete-btn"
                name="confirmDeleteBtn"
                class="px-6 py-3 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-all duration-200">
                Delete Employee
            </button>
        </div>
    </div>
</app-modal>

<!-- Main Content -->
<div class="flex-1 p-6 bg-gray-900 min-h-screen" id="employee-main-container">
    <!-- Header Section -->
    <div class="mb-8">
        <div class="flex items-center justify-between mb-4">
            <div>
                <h1 class="text-3xl font-bold text-white mb-2">Employee Management</h1>
                <p class="text-gray-400">Manage your team members and their roles</p>
            </div>
            <div class="flex items-center space-x-3">
                <div class="flex items-center space-x-2 px-4 py-2 bg-gray-800 rounded-lg border border-gray-700">
                    <i class="fas fa-users text-blue-400"></i>
                    <span class="text-sm text-gray-300">Total: {{ employees.length }}</span>
                </div>
            </div>
        </div>
        <div class="h-px bg-gray-700"></div>
    </div>

    <!-- Action Bar -->
    <div class="bg-gray-800 rounded-xl border border-gray-700 p-6 mb-6">
        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0">
            <!-- Left Actions -->
            <div class="flex flex-wrap items-center gap-3">
                <button 
                    (click)="openModalForCreatingEmployee()"
                    id="add-employee-btn"
                    name="addEmployeeBtn"
                    class="inline-flex items-center px-6 py-3 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200"
                    type="button">
                    <i class="fas fa-user-plus mr-2"></i>
                    Add Employee
                </button>

                <button 
                    (click)="openRoleModal()"
                    id="create-roles-btn"
                    name="createRolesBtn"
                    class="inline-flex items-center px-6 py-3 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition-all duration-200">
                    <i class="fas fa-user-tag mr-2"></i>
                    Manage Roles
                </button>
            </div>

            <!-- Right Filters -->
            <div class="flex flex-wrap items-center gap-3">
                <!-- Role Filter -->
                <div class="flex flex-col space-y-1">
                    <label for="role-filter" class="text-xs font-medium text-gray-400">Filter by Role</label>
                    <select 
                        id="role-filter" 
                        name="roleFilter"
                        [(ngModel)]="filter.role"
                        class="px-4 py-2 bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 min-w-40">
                        <option value="" selected>All Roles</option>
                        <option *ngFor="let role of roles" [value]="role._id">{{ role.roleName }}</option>
                    </select>
                </div>

                <!-- Search -->
                <div class="flex flex-col space-y-1">
                    <label for="employee-search" class="text-xs font-medium text-gray-400">Search Employees</label>
                    <div class="relative">
                        <app-autocomplete 
                            [(ngModel)]="filter.searchText" 
                            [placeHolder]="'Search employee name...'" 
                            [searchControl]="searchControl"
                            [filteredOptions]="filteredOptions" 
                            (callback)="updateFilterOptions($event)"
                            id="employee-search"
                            name="employeeSearch">
                        </app-autocomplete>
                    </div>
                </div>

                <!-- Filter Actions -->
                <div class="flex items-end space-x-2">
                    <button 
                        type="button" 
                        (click)="searchButtonClicked()"
                        id="apply-filter-btn"
                        name="applyFilterBtn"
                        class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200">
                        <i class="fas fa-filter mr-2"></i>
                        Apply
                    </button>
                    <button 
                        type="button" 
                        (click)="clearFilter()"
                        id="clear-filter-btn"
                        name="clearFilterBtn"
                        class="px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 border border-gray-600 rounded-lg hover:bg-gray-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-gray-500 transition-all duration-200">
                        <i class="fas fa-times mr-2"></i>
                        Clear
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Employee Table -->
    <div class="bg-gray-800 rounded-xl border border-gray-700 overflow-hidden">
        <div class="overflow-x-auto">
            <table class="w-full text-sm text-left text-gray-300" id="employee-table" name="employeeTable">
                <thead class="text-xs text-gray-400 uppercase bg-gray-900">
                    <tr>
                        <!-- <th scope="col" class="p-6">
                            <div class="flex items-center">
                                <input 
                                    id="checkbox-all-search" 
                                    name="checkboxAllSearch"
                                    type="checkbox" 
                                    class="w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500 focus:ring-2">
                                <label for="checkbox-all-search" class="sr-only">Select all</label>
                            </div>
                        </th> -->
                        <th scope="col" class="px-6 py-4 font-medium">
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-user text-blue-400"></i>
                                <span>Employee</span>
                            </div>
                        </th>
                        <th scope="col" class="px-6 py-4 font-medium">
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-briefcase text-green-400"></i>
                                <span>Position</span>
                            </div>
                        </th>
                        <th scope="col" class="px-6 py-4 font-medium">
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-phone text-blue-400"></i>
                                <span>Contact</span>
                            </div>
                        </th>
                        <th scope="col" class="px-6 py-4 font-medium">
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-cog text-gray-400"></i>
                                <span>Actions</span>
                            </div>
                        </th>
                    </tr>
                </thead>
                <tbody class="divide-y divide-gray-700">
                    <tr *ngIf="employees.length === 0">
                        <td colspan="5" class="text-center py-16">
                            <div class="flex flex-col items-center space-y-4">
                                <i class="fas fa-users text-6xl text-gray-600"></i>
                                <div>
                                    <h3 class="text-xl font-semibold text-gray-400 mb-2">No employees found</h3>
                                    <p class="text-gray-500">Get started by adding your first employee</p>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr *ngFor="let employee of employees" 
                        class="bg-gray-800 hover:bg-gray-750 transition-colors duration-200"
                        [id]="'employee-row-' + employee.id"
                        [attr.name]="'employeeRow' + employee.id">
                        <!-- <td class="w-4 p-6">
                            <div class="flex items-center">
                                <input 
                                    [id]="'checkbox-table-search-' + employee.id" 
                                    [name]="'checkboxTableSearch' + employee.id"
                                    type="checkbox"
                                    class="w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500 focus:ring-2">
                                <label [for]="'checkbox-table-search-' + employee.id" class="sr-only">Select employee</label>
                            </div>
                        </td> -->
                        <td class="px-6 py-4">
                            <div class="flex items-center space-x-4">
                                <div class="flex-shrink-0">
                                    <ng-container *ngIf="employee.profilePicUrl">
                                        <img class="w-12 h-12 rounded-full object-cover border-2 border-gray-600" 
                                             [src]="employee.profilePicUrl" 
                                             [alt]="employee.firstName + ' ' + employee.lastName + ' profile picture'">
                                    </ng-container>
                                    <ng-container *ngIf="!employee.profilePicUrl">
                                        <div class="w-12 h-12 rounded-full bg-gray-700 flex items-center justify-center border-2 border-gray-600">
                                            <i class="fas fa-user text-gray-400 text-lg"></i>
                                        </div>
                                    </ng-container>
                                </div>
                                <div class="min-w-0 flex-1">
                                    <p class="text-base font-semibold text-white truncate">
                                        {{ employee.firstName + " " + employee.lastName }}
                                    </p>
                                    <p class="text-sm text-gray-400 truncate">
                                        {{ employee.contactInfo.email }}
                                    </p>
                                </div>
                            </div>
                        </td>
                        <td class="px-6 py-4">
                            <span class="inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-900 text-green-200 border border-green-700">
                                {{ employee.role.roleName }}
                            </span>
                        </td>
                        <td class="px-6 py-4">
                            <div class="flex items-center space-x-2">
                                <i class="fas fa-phone text-gray-400"></i>
                                <span class="text-gray-300">{{ employee.contactInfo.phone }}</span>
                            </div>
                        </td>
                        <td class="px-6 py-4">
                            <div class="flex items-center space-x-4">
                                <button 
                                    type="button" 
                                    (click)="editButtonClicked(employee)"
                                    [id]="'edit-btn-' + employee.id"
                                    [attr.name]="'editBtn' + employee.id"
                                    class="text-blue-400 hover:text-blue-300 font-medium hover:underline transition-colors duration-200">
                                    <i class="fas fa-edit mr-1"></i>
                                    Edit
                                </button>
                                <span class="text-gray-600">|</span>
                                <button 
                                    type="button" 
                                    (click)="deleteButtonClicked(employee)"
                                    [id]="'delete-btn-' + employee.id"
                                    [attr.name]="'deleteBtn' + employee.id"
                                    class="text-red-400 hover:text-red-300 font-medium hover:underline transition-colors duration-200">
                                    <i class="fas fa-trash mr-1"></i>
                                    Delete
                                </button>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Pagination -->
    <div class="mt-6">
        <app-pagination 
            [dataCount]="filter.pagination.dataCount" 
            [page]="filter.pagination.page"
            [pageSize]="filter.pagination.pageSize" 
            (callback)="updatePaginationPage($event)"
            id="employee-pagination"
            name="employeePagination">
        </app-pagination>
    </div>
</div>